// Generated by CoffeeScript 1.3.3
(function() {
  var CMinion, Hapi, Minion, hello, host, port, server;

  Hapi = require("hapi");

  host = process.env.HOST || 'localhost';

  port = process.env.PORT || 3000;

  CMinion = require("../../minion");

  Minion = new CMinion();

  server = new Hapi.Server(host, port, {
    payload: {
      maxBytes: 9999999999999999
    }
  });

  hello = {
    method: "POST",
    path: "/",
    config: {
      query: {
        id: Hapi.Types.String()
      },
      handler: function(req) {
        req.reply(req.raw.req.headers["content-length"]);
        return Minion.logRequest(req.query);
      }
    }
  };

  server.addRoute(hello);

  Minion.started();

  server.start();

}).call(this);
